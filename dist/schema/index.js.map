{"version":3,"sources":["../../src/schema/index.ts"],"sourcesContent":["import { join } from 'path';\r\nimport { loadFilesSync } from '@graphql-tools/load-files';\r\nimport { mergeTypeDefs, mergeResolvers } from '@graphql-tools/merge';\r\nimport { makeExecutableSchema } from '@graphql-tools/schema';\r\nimport { applyMiddleware } from 'graphql-middleware';\r\nimport { permissions } from '@middlewares/permission';\r\n\r\nconst typesPath = join(__dirname, './**/typeDefs.*');\r\nconst resolversPath = join(__dirname, './**/resolvers.*');\r\n\r\nconst typesArray = loadFilesSync(typesPath);\r\nconst resolversArray = loadFilesSync(resolversPath);\r\n\r\nconst typeDefs = mergeTypeDefs(typesArray);\r\nconst resolvers = mergeResolvers(resolversArray);\r\n\r\nconst gql = makeExecutableSchema({ typeDefs, resolvers });\r\n\r\nexport const schema = applyMiddleware(gql, permissions);\r\n"],"names":["typesPath","join","__dirname","resolversPath","typesArray","loadFilesSync","resolversArray","typeDefs","mergeTypeDefs","resolvers","mergeResolvers","gql","makeExecutableSchema","schema","applyMiddleware","permissions"],"mappings":"AAAA,yFAAqB,KAAA,CAAM,SAAN,MAAM,EACG,CAA2B,SAA3B,2BAA2B,EACX,CAAsB,SAAtB,sBAAsB,EAC/B,CAAuB,SAAvB,uBAAuB,EAC5B,CAAoB,SAApB,oBAAoB,EACxB,CAAyB,SAAzB,2BAAyB,CAL1B,AAO3B,OAAMA,CAAS,CAAGC,CAAI,KAAA,CAACC,SAAS,CAAE,iBAAiB,CAAC,CAC9CC,CAAa,CAAGF,CAAI,KAAA,CAACC,SAAS,CAAE,kBAAkB,CAAC,CAEnDE,CAAU,CAAGC,CAAa,cAAA,CAACL,CAAS,CAAC,CACrCM,CAAc,CAAGD,CAAa,cAAA,CAACF,CAAa,CAAC,CAE7CI,CAAQ,CAAGC,CAAa,cAAA,CAACJ,CAAU,CAAC,CACpCK,CAAS,CAAGC,CAAc,eAAA,CAACJ,CAAc,CAAC,CAE1CK,CAAG,CAAGC,CAAoB,qBAAA,CAAC,CAAEL,QAAQ,CAARA,CAAQ,CAAEE,SAAS,CAATA,CAAS,CAAE,CAAC,CAE5CI,CAAM,CAAGC,CAAe,gBAAA,CAACH,CAAG,CAAEI,CAAW,YAAA,CAAC,AAXF,SAWxCF,MAAM,CAANA,CAAM,AAAqC"}